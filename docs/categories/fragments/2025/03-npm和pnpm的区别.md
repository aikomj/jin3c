---
title: npm和pnpm的区别
author: 谨三思
date: 2025/04/05 10:12
categories:
 - 杂碎逆袭史
tags:
 - 前端
---

# npm和pnpm的区别

两者都是javascript的包管理工具，用于自动化安装、更新npm包依赖，它们在设计上有一些关键区别

## 1、存储方式

- npm为每个项目安装独立的包版本，即使多个项目使用相同的包版本，也会在每个项目的node_modules目录下存储一个副本。
- pnpm使用内容寻址的文件存储方式，多个项目使用相同的包版本，pnpm会存储单个副本，并在每个项目中创建硬链接，从而节省磁盘空间并提高安装速度。

## 2、安全性

- pnpm在安装包时采用了严格的依赖解析策略，默认情况下，它不会扁平化依赖，这意味着依赖不会被提升到项目的顶层node_modules目录，减少了意外覆盖依赖的风险，避免了包之间的版本冲突所导致的问题。

## 3、命令行界面

- npm和pnpm的命令行界面CLI非常相似，大多数命令都是一致的，如install，run等，但某些高级功能和命令上有所不同。

## 4、兼容性

- npm作为最早和最广泛使用的包管理器，几乎被所有的nodejs项目支持。
- pnpm在某些依赖特定node_modules结构的工具或项目中可能会遇到兼容性问题

总体来说，pnpm在空间和性能方面提供了显著的优势，但在某些项目中可能需要额外的配置来保证和传统npm相同的行为。

